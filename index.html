
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sundria - لوحة التحكم الذكية</title>
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E🔍%3C/text%3E%3C/svg%3E">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap');
        
        :root {
            --primary: #0ea5e9;
            --secondary: #f59e0b;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #0f172a;
            --light: #f1f5f9;
        }
        
        * {
            font-family: 'Tajawal', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f1f5f9;
            overflow-x: hidden;
        }
        
        .glass-effect {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.1);
        }
        
        .glow {
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.3);
        }
        
        .status-pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .chart-container {
            position: relative;
            height: 300px;
        }
        
        .notification-enter {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .hover-scale:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }
        
        .gradient-text {
            background: linear-gradient(45deg, #0ea5e9, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
    </style>
</head>
<body class="bg-slate-900">
    <!-- Loading Screen -->
    <div id="loading-screen" class="fixed inset-0 bg-slate-900 z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="w-12 h-12 border-4 border-sky-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"></div>
            <p class="text-sky-400 text-sm">جاري التحميل...</p>
        </div>
    </div>

    <!-- Header -->
    <header class="glass-effect sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3 space-x-reverse">
                    <div class="w-8 h-8 bg-gradient-to-r from-sky-500 to-amber-500 rounded flex items-center justify-center">
                        <i data-feather="cpu" class="w-4 h-4 text-white"></i>
                    </div>
                    <h1 class="text-lg font-bold gradient-text">Sundria AI</h1>
                </div>
                
                <div class="flex items-center space-x-3 space-x-reverse">
                    <div class="hidden md:flex items-center space-x-2 space-x-reverse">
                        <span class="w-2 h-2 bg-green-500 rounded-full status-pulse"></span>
                        <span class="text-green-400 text-xs">على أتم الاستعداد</span>
                    </div>
                    
                    <button id="notification-btn" class="relative p-2 rounded hover:bg-slate-700 transition">
                        <i data-feather="bell" class="w-4 h-4"></i>
                        <span class="absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                    </button>
                    
                    <div class="text-xs text-slate-400 hidden md:block" id="current-time">--:--</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main class="container mx-auto px-4 py-4">
        <!-- KPI Cards -->
        <section class="mb-4">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                <div class="glass-effect rounded-lg p-3">
                    <p class="text-xs text-slate-400 flex items-center"><i data-feather="layers" class="w-3 h-3 mr-1"></i>الفحوصات</p>
                    <p class="text-lg font-bold text-sky-400" id="total-inspected">1,248</p>
                </div>

                <div class="glass-effect rounded-lg p-3">
                    <p class="text-xs text-red-400 flex items-center"><i data-feather="x-circle" class="w-3 h-3 mr-1"></i>الرفض</p>
                    <p class="text-lg font-bold text-red-400" id="rejection-rate">5.1%</p>
                </div>

                <div class="glass-effect rounded-lg p-3">
                    <p class="text-xs text-amber-400 flex items-center"><i data-feather="clock" class="w-3 h-3 mr-1"></i>المعدل</p>
                    <p class="text-lg font-bold text-amber-400" id="inspection-rate">112</p>
                </div>

                <div class="glass-effect rounded-lg p-3">
                    <p class="text-xs text-green-400 flex items-center"><i data-feather="activity" class="w-3 h-3 mr-1"></i>الكفاءة</p>
                    <p class="text-lg font-bold text-green-400">98.7%</p>
                </div>
            </div>
        </section>

        <!-- Charts Section -->
        <section class="mb-4 grid grid-cols-1 lg:grid-cols-3 gap-3">
            <div class="lg:col-span-2 glass-effect rounded-lg p-3">
                <h3 class="text-sm font-semibold mb-2 flex items-center">
                    <i data-feather="trending-up" class="w-4 h-4 mr-1 text-sky-400"></i>
                    الفحص 24h
                </h3>
                <div class="h-32">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>

            <div class="glass-effect rounded-lg p-3">
                <h3 class="text-sm font-semibold mb-2 flex items-center">
                    <i data-feather="pie-chart" class="w-4 h-4 mr-1 text-amber-400"></i>
                    العيوب
                </h3>
                <div class="space-y-1 text-xs">
                    <div class="flex justify-between"><span>الشقوق</span><span class="text-red-400">35%</span></div>
                    <div class="flex justify-between"><span>الكسر</span><span class="text-orange-400">28%</span></div>
                    <div class="flex justify-between"><span>نمط غير منتظم</span><span class="text-yellow-400">16%</span></div>
                    <div class="flex justify-between"><span>تلوث</span><span class="text-green-400">11%</span></div>
                    <div class="flex justify-between"><span>لحام</span><span class="text-blue-400">10%</span></div>
                </div>
            </div>
        </section>

        <!-- Live Feed -->
        <section class="mb-4">
            <div class="glass-effect rounded-lg p-3">
                <div class="flex justify-between items-center mb-2">
                    <h3 class="text-sm font-semibold">آخر النتائج</h3>
                    <span class="w-2 h-2 bg-green-500 rounded-full status-pulse"></span>
                </div>
                <div id="latest-results" class="space-y-1 text-xs max-h-32 overflow-y-auto">
                    <!-- javascript injects live rows -->
                </div>
            </div>
        </section>
    </main>

    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
            }, 800);

            // Initialize Feather Icons
            feather.replace();

            // Update time
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('ar-SA', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
                document.getElementById('current-time').textContent = timeString;
            }
            setInterval(updateTime, 1000);
            updateTime();

            // Simple chart
            const ctx = document.getElementById('performanceChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['00','04','08','12','16','20','24'],
                    datasets: [{
                        label: 'الألواح',
                        data: [120, 190, 170, 160, 180, 150, 200],
                        borderColor: '#0ea5e9',
                        backgroundColor: 'rgba(14, 165, 233, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { ticks: { color: '#94a3b8', font: { size: 10 } }, grid: { display: false } },
                        y: { ticks: { color: '#94a3b8', font: { size: 10 } }, grid: { display: false } }
                    }
                }
            });

            // Live feed
            const latestResults = document.getElementById('latest-results');
            const defectTypes = ['سليم','شقوق','كسر','نمط','تلوث','لحام'];
            function addResult() {
                const panel = `PCB-${Math.floor(Math.random()*9999)}`;
                const defect = defectTypes[Math.floor(Math.random()*defectTypes.length)];
                const status = defect==='سليم' ? 'text-green-400':'text-red-400';
                latestResults.innerHTML = `
                    <div class="flex justify-between items-center px-1 py-1 hover:bg-slate-400/10 rounded">
                        <span>${panel}</span>
                        <span class="${status}">${defect}</span>
                    </div>
                ` + latestResults.innerHTML.slice(0,200);
            }
            setInterval(addResult, 2000);
            addResult();
        });
    </script>
</body>
</html>

